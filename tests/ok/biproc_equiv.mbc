channel c
system A: in(c,x);out(c,zero);
       B: in(c,y); if False then out(c,diff(x,y)) else out(c,zero).



goal trivial_if : cond@B <=> False.
Proof.
simpl.
expand cond@B.
Qed.

equiv test_left_bis.
Proof.
induction t.

expand frame@init.
expand exec@init.

expand frame@A.
expand output@A.
fa 1; fa 2.
expand exec@A; expand cond@A.
fa 0.
assumption.

expand frame@B.
fa 1.
expand exec@B.
equivalent cond@B, False.
apply trivial_if.

noif 2.
simpl.
fa 0.
assumption.

expand frame@B1.
fa 1.
expand output@B1.
fa 2.
expand exec@B1.
expand cond@B1.
fa 0.
assumption.

Qed.
