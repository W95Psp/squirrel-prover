channel c
system A: in(c,x);out(c,zero);
       B: in(c,y); if False then out(c,diff(x,y)) else out(c,zero).

equiv [left] [right] test_left_bis.

Proof.
induction t.
case t.

expand frame@init.
expand exec@init.

expand frame@B.
fa 1.
expand exec@B.
equivalent cond@B, False.
simpl.
expand cond@B.
noif 2.
simpl.

fa 0.
assumption.

expand frame@B1.
fa 1.
expand output@B1.
fa 2.
expand exec@B1.
expand cond@B1.
fa 0.
assumption.

expand frame@A.
expand output@A.
fa 1; fa 2.
expand exec@A; expand cond@A.
fa 0.
assumption.

expand frame@init.
expand exec@init.

Qed.
