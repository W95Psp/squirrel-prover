hash h
name k:message
name cst:message

channel ch

name n : index -> message

system O:
 in(ch,x); if x=k then out(ch,x).


goal dummy :
cond@A => input@A <>k.
Proof.
simpl.
expand cond@A.
notleft H0.
Qed.

goal dummy :
exec@O =>
  output@O = k.
 Proof.
simpl.

expand exec@O.
expand cond@O.
introsleft H0.
Qed.

goal dummy :
False =>
  exec@O.
Proof.
simpl.
Qed.

goal dummybis :
 frame@O = <frame@pred(O), (if exec@O then output@O else zero)>.
Proof.
simpl.
Qed.
