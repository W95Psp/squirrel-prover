channel c
system A: in(c,x);out(c,x);
       B: in(c,y);out(c,diff(x,y)).

goal test : output@B = diff(input@A,input@B).
Proof.
  intros.
Qed.

goal [left] test_left : output@B = input@A.
Proof.
  intros.
Qed.

goal [right] test_right : output@B = input@B.
Proof.
  intros.
Qed.
