channel c
abstract ok:message

system in(c,x); if x=ok && x<>ok then out(c,x).

equiv test.
Proof.
induction t.

expand frame@init.
expand exec@init.

expand frame@A.
expand exec@A.
equivalent cond@A, False.
expand cond@A.

(* fadup must not be able to close this goal, because of the output@A *)

Qed.
